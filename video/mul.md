# [乗算](https://problemkaputt.de/fullsnes.htm#snesmathsmultiplydivide)

Mode0-6のとき、以下のレジスタは掛け算用のレジスタとして使用できます。

```c
  MPY = M7A * M7B
```

## 211Bh - M7A - PPU被乗数レジスタ (W)

符号付き16bit整数です。

```
  1度目の書き込み: 被乗数の下位 8bit を設定
  2度目の書き込み: 被乗数の上位 8bit を設定
```

## 211Ch - M7B - PPU乗数レジスタ (W)

符号付き8bit整数です。

`211Bh` か `211Ch` に書き込みを行うと、結果が `2134h-2136h` に反映されます。

`21xx`レジスタは高速なので、`MOV A,[211Ch]` か `MOV A,[1Ch]` (`D=2100h`)で結果を読み出す際に、(CPUのクロックが3.5MHz だとしても)掛け算終了まで待つための待機時間は不要です。

## 2134h/2135h/2136h - MPY - PPU積レジスタ (R)

符号付き24bit整数です。

``` 
  MPYL(2134h) = 0-7bit
  MPYM(2135h) = 8-15bit
  MPYH(2136h) = 16-23bit
```

## Mode7 について

これらのレジスタは Mode7 では伸縮回転のパラメータレジスタとして使われます。

Mode7 のときは、上記のレジスタは VBlank中 または 強制Blank(INIDISP.7)中にのみ利用可能です。

それ以外のときにアクセスしてはいけません。例えば、MPYL/MPYM/MPYH からの読み出しはゴミ値を返し、M7A/M7B への書き込みは画面がおかしくなります。
